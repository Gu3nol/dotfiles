/*
 * =============================================================================
 *
 *       Filename:  dummy_wb_master.h
 *
 *    Description:  generic wb dummy_wb_master
 *                  This module demonstrate WbMasterFsm usage
 *
 *         Author:  Tarik Graba (TG), tarik.graba@telecom-paristech.fr
 *        Company:  Telecom Paris TECH
 *
 * =============================================================================
 */

#ifndef _DUMMY_WB_MASTER_
#define _DUMMY_WB_MASTER_


#include <systemc>

#include "wb_master_fsm.h"
namespace soclib { namespace caba {

    template<typename wb_param>
        class DummyWbMaster: sc_core::sc_module
    {
        public:
            sc_core::sc_in<bool> p_clk;
            sc_core::sc_in<bool> p_resetn;
            soclib::caba::WbMaster<wb_param> p_wb;

        private:
            // main thread
            void main_loop();

            void     wait_cycles (uint32_t delay);
            WbMasterFsm<wb_param> master0;

        protected:
            SC_HAS_PROCESS(DummyWbMaster);

        public:
            // constructor
            DummyWbMaster ( sc_module_name name );
    };
}}

#endif //_DUMMY_WB_MASTER_
