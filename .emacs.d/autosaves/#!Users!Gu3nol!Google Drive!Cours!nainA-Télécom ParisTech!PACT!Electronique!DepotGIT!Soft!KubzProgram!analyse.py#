 #! /usr/bin/python
# -*- coding: utf-8 -*-

import sys
import os
fichier_source = sys.argv[1]
fichier_cible = sys.argv[2]

# Lecture du fichier recu en argument 1 de la commande

tableau = []

def readfile(filename):

    # Ouverture du fichier en mode lecture
    f = open(filename, 'r')

    # Parcours des lignes du tableau et parsage
    for line in f.readlines() :
        tableau.append(line.strip("\n").split())

    # Initialisation du filtre passe-haut
    tableau[0].append(tableau[0][3])

    # Calcul de dacc_out par filtrage passe-haut 
    # Ajout dans une nouvelle colonne
    # y indice de ligne
    for y in range(1,len(tableau)-1) :
        tableau[y].append((0.001*(int(tableau[y-1][4])
 +(int(tableau[y][1])-int(tableau[y][2]))-int(tableau[y-1][3]))))

    # Seuillage sur dacc_out pour detecter les tap
    # Ajout dans une nouvelle colonne
    for y in range(1,len(tableau)-1) :
        tableau[y].appen(

# Enregistrement des donnees dans un nouveau
# fichier recu en argument 2 de la commande
def savefile(filename):

    # Ouverture du fichier en mode ecriture
    g = open(filename,'w')

    # Enregistrement des lignes
    for line in tableau :
        for champ in line :
            g.write(str(champ)+ ' ')
        g.write('\n')

# Utilisation des fonctions
readfile(fichier_source)
savefile(fichier_cible)
print("OK")
